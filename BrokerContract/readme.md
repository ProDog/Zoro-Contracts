# 币币交易所合约接口整理

## 交易所管理部分：
需要管理员签名
* 交易所合约状态
    * 可用：所有接口可用
    * 只读：只有查询接口可用
    * 停用：所有接口停用
* 设置白名单 即支持币种、交易对
    * 增加
    * 删除
* 设置交易费收取地址

## 交易部分：
* 充值：往交易所存钱，先转账再用 txid 进行充值，需要币种 assetId、txid 两个参数
* 挂单：挂买卖单，需要发起者签名。
需要参数：发起者地址 offerAddress, 付款的币种 offerAssetID, 支付的数量 offerAmount, 要兑换的目标币种 wantAssetID, 目标币数量 wantAmount, 计数器 nonce；挂单完成后会产生 notify，输出挂单编号和挂单信息，需要后端保存。挂单后冻结相应资产，从可用资产余额中扣除，取消挂单后资产解冻

* 吃单：(成交单) 用户选择了要成交的对手单，在合约中进行成交验证和加减余额，需要交易员签名，参数： 发起者地址 fillerAddress, 要成交的对手单编号 offerHash, 要支付的币种数量 amountToTake, 手续费数量 takerFeeAmount。手续费都用 BCP，成交后会扣除/增加用户账户的余额、更新对手单的未成交余额等信息，成交后产生 notify

* 撤单：撤销未成交的单子，需要挂单者签名，参数：挂单编号 offerHash
* 取钱：用户从交易所提出币，需要用户签名，参数：用户地址 address，资产类型 assetId，提现数量 amount

## 查询部分
* 查询合约状态
* 查询币种是否包含在白名单中 参数：assetId，返回 true/false
* 查询已挂单 参数：挂单编号，返回挂单信息
* 查询账户指定资产的余额 参数：address，assetId， 返回余额
* 查询当前收交易费的地址
